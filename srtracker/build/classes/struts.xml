<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.1//EN" "http://struts.apache.org/dtds/struts-2.1.dtd">
<struts>
<constant name="struts.devMode" value="false" />
	<package name="default" extends="struts-default,json-default">

		<result-types>
			<result-type name="tiles"
				class="org.apache.struts2.views.tiles.TilesResult" />
		</result-types>

		<interceptors>
			<interceptor-stack name="fileUploadStack">
				<interceptor-ref name="exception" />
				<interceptor-ref name="alias" />
				<interceptor-ref name="servletConfig" />
				<interceptor-ref name="prepare" />
				<interceptor-ref name="i18n" />
				<interceptor-ref name="chain" />
				<interceptor-ref name="debugging" />
				<interceptor-ref name="profiling" />
				<interceptor-ref name="scopedModelDriven" />
				<interceptor-ref name="modelDriven" />
				<interceptor-ref name="fileUpload">
					<param name="maximumSize">10000000000240000</param>
					<param name="allowedTypes">application/ms-excel,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet</param>
				</interceptor-ref>
				<interceptor-ref name="checkbox" />
				<interceptor-ref name="staticParams" />
				<interceptor-ref name="actionMappingParams" />
				<interceptor-ref name="params">
					<param name="excludeParams">dojo\..*,^struts\..*</param>
				</interceptor-ref>
				<interceptor-ref name="conversionError" />
				<interceptor-ref name="validation">
					<param name="excludeMethods">input,back,cancel,browse</param>
				</interceptor-ref>
				<interceptor-ref name="workflow">
					<param name="excludeMethods">input,back,cancel,browse</param>
				</interceptor-ref>
			</interceptor-stack>

			<interceptor name="mylogging" class="MyLoggingInterceptor">
			</interceptor>
			<interceptor-stack name="loggingStack">
				<interceptor-ref name="mylogging" />
				<interceptor-ref name="defaultStack" />
			</interceptor-stack>
		</interceptors>

		<default-interceptor-ref name="loggingStack" />


		<global-results>
			<result name="login" type="tiles">login</result>
			<result name="welcome" type="tiles">home</result>
		</global-results>

		<action name="*UserInfoAction" method="{1}" class="com.logica.srtracker.action.UserInfoAction">
			<result name="home" type="chain">homeLinkAction</result>
			<result name="register" type="tiles">register</result>
		</action>
		
		<action name="*LinkAction" method="{1}" class="com.logica.srtracker.action.LinkAction">
			<result name="home" type="tiles">home</result>
			<result name="register" type="tiles">register</result>
			<result name="serviceRequest" type="tiles">serviceRequest</result>
			<result name="upload" type="tiles">uploadLink</result>	
			<result name="chooseReport" type="tiles">chooseReport</result>		
			<result name="reviewReport" type="tiles">reviewReportLink</result>	 
			<result name="boltStatusReport" type="tiles">boltStatusReportLink</result> 
			<result name="cadReport" type="tiles">cadReportLink</result>
			<result name="changePassword" type="tiles">changePassword</result>
		</action>
		
		<action name="*ServiceRequestAction" method="{1}" class="com.logica.srtracker.action.ServiceRequestAction">
		    <interceptor-ref name="fileUploadStack"></interceptor-ref>
			<result name="list" type="tiles">list</result>
			<result name="serviceRequestView" type="tiles">serviceRequestView</result>
			<result name="serviceRequestEdit" type="tiles">serviceRequestEdit</result>
			<result name="uploadSuccess" type="tiles">uploadSuccess</result>
			<result name="serviceRequestUpdate" type="chain">listServiceRequestAction</result>
			<result name="reviewReport" type="tiles">list</result>
			<result name="excelReport">/jsp/report/excelReport.jsp</result>
			<result name="register" type="tiles">register</result>
			
			
		</action>
	</package>
</struts>    
